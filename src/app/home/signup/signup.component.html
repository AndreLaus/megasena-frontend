<h4 class="text-center"> Registre-se e acompanhe suas apostas!</h4>

<form [formGroup]="signupForm" class="form mt-4" (submit)="signup()">
    <div class="form-group">
        <input  
            #emailInput
            formControlName="email"
            placeholder="email" 
            class="form-control" 
            autofocus >
        <mgsn-vmessage
            *ngIf="signupForm.get('email').errors?.required"
            text="email é obrigatório!">
        </mgsn-vmessage>  
        <mgsn-vmessage
            *ngIf="signupForm.get('email').errors?.email"
            text="email inválido">
        </mgsn-vmessage>  
        <mgsn-vmessage
            text="Email já cadastrado!"
            *ngIf="signupForm.get('email').errors?.emailTaken">
        </mgsn-vmessage>
        <small *ngIf="signupForm.get('email').valid" class="text-success">Cadastro para este email liberado!</small>
    </div>

    <div class="form-group">
        <input 
            formControlName="nomeCompleto"
            placeholder="Nome Completo" 
            class="form-control">
        <mgsn-vmessage
            *ngIf="signupForm.get('nomeCompleto').errors?.required"
            text="Nome Completo é obrigatório!">
        </mgsn-vmessage>  
        <mgsn-vmessage
            *ngIf="signupForm.get('nomeCompleto').errors?.minlength"
            text="Tamanho mínimo é 2.">
        </mgsn-vmessage> 
        <mgsn-vmessage
            *ngIf="signupForm.get('nomeCompleto').errors?.maxlength"
            text="Tamanho máximo é 40.">
        </mgsn-vmessage> 
    </div>

    <div class="form-group">
        <input 
            formControlName="nome"
            placeholder="Como gostaria de ser chamado (primeiro nome, apelido)" 
            class="form-control">
        <mgsn-vmessage
            *ngIf="signupForm.get('nome').errors?.required"
            text="Nome Completo é obrigatório!">
        </mgsn-vmessage>  
        <mgsn-vmessage
            *ngIf="signupForm.get('nome').errors?.minlength"
            text="Tamanho mínimo é 2.">
        </mgsn-vmessage> 
        <mgsn-vmessage
            *ngIf="signupForm.get('nome').errors?.maxlength"
            text="Tamanho máximo é 30.">
        </mgsn-vmessage> 
        <mgsn-vmessage
            *ngIf="signupForm.get('nome').errors?.lowerCase"
            text="Deve ser em minusculo">
        </mgsn-vmessage> 
    </div>

    <div class="form-group">
        <input 
            formControlName="senha"
            type="password" 
            placeholder="Senha" 
            class="form-control">
        <mgsn-vmessage
            *ngIf="signupForm.get('senha').errors?.required"
            text="Nome Completo é obrigatório!">
        </mgsn-vmessage>  
        <mgsn-vmessage
            *ngIf="signupForm.get('senha').errors?.minlength"
            text="Tamanho mínimo é 8.">
        </mgsn-vmessage> 
        <mgsn-vmessage
            *ngIf="signupForm.get('senha').errors?.maxlength"
            text="Tamanho máximo é 14.">
        </mgsn-vmessage> 
    </div>

    <button 
        [disabled]="signupForm.invalid || signupForm.pending"
        class="btn btn-primary btn-block">
            Registrar
    </button>

    <p>Já um usuário? <a [routerLink]="['/login']">Login!</a></p>
</form>